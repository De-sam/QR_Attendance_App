<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Signup/Login</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{url_for('static', filename='css/login.css')}}">
</head>
<body>
    <div class="flash">
        {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }} alter-dismissable faded show" role="alert" >   
        {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="close">
                <span aria-hidden="true">&times;</span>
            </button> 
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}    

    </div>    
                       
    <div class="form-container">
    
        <div class="logo">QA_S</div>
        <div class="d-flex justify-content-center">
            <button type="button" class="btn-toggle" data-form="signup" onclick="toggleForm('signup')">Sign up</button>
            <button type="button" class="btn-toggle active" data-form="login" onclick="toggleForm('login')">Login</button>
        </div>

        <div id="signupForm" class="form-section"> 
            <form method="POST" action="/signup" class="w-100">
                <div class="form-group">
                    <label for="username" class="form-label">Username:</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="username" 
                        name="username" 
                        placeholder="Enter your username..." 
                        required>
                </div>
                <div class="form-group">
                    <label for="email" class="form-label">Email:</label>
                    <input 
                        type="email" 
                        class="form-control" 
                        id="signupEmail" 
                        name="email" 
                        placeholder="Enter your email" 
                        required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password:</label>
                    <input
                        type="password"
                        class="form-control"
                        id="signupPassword"
                        name="password" 
                        placeholder="Choose a password" 
                        required>
                </div>
                <div class="form-group">
                    <label for="confirm_password" class="form-label">confirm Password:</label>
                    <input 
                        type="password" 
                        class="form-control" 
                        id="confirmPassword" 
                        name="confirm_password" 
                        placeholder="Reenter choosen password" 
                        required>
                </div>
                <div class=" form- control d-grid gap-2 col-6 mx-auto" >
                    <button type="submit" class="btn btn-danger w-100">Sign Up</button>
                </div>
                <a href="#" class="text-center d-block">Sign up with Google</a>
            </form>
        </div>

        <div id="loginForm" class="form-section active">
            <form method="POST" action="/login" class="w-100">
                <div class="form-group">
                    <label for="email" class="form-label">Email or Username:</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="loginEmail" 
                        name="user_input" 
                        placeholder="Enter your email or username" 
                        required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password:</label>
                    <input 
                        type="password" 
                        class="form-control" 
                        id="loginPassword" 
                        name="password" 
                        placeholder="Enter your password" 
                        required>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="rememberMe" name="remember">
                    <label class="form-check-label" for="rememberMe">Remember me</label>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-danger w-100">Login</button>
                </div>
                
                <a href="#" data-toggle="modal" data-target="#forgotPasswordModal" style="color: red; text-decoration: none;">Forgot Password?</a>
        </form>
    </div>
</div>

<div id="modalContainer"></div> <!-- Placeholder for modal -->

<!-- Bootstrap JavaScript Bundle with Popper -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{url_for('static',filename='js/toggle.js')}}"></script>
<script>
$(document).ready(function() {
    $("#modalContainer").load("/forgot_password"); // Dynamically load the modal
});
</script>
</html>
